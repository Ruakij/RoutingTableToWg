<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="412px" preserveAspectRatio="none" style="width:354px;height:412px;background:#282C34;" version="1.1" viewBox="0 0 354 412" width="354px" zoomAndPan="magnify"><defs/><g><rect fill="#282C34" height="29.0679" id="_title" style="stroke:none;stroke-width:1.0;" width="83" x="137" y="10"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73" x="142" y="29.9659">Add Route</text><rect fill="none" height="284.3541" style="stroke:#61AFEF;stroke-width:1.0;" width="10" x="31" y="106.1358"/><rect fill="none" height="251.6481" style="stroke:#61AFEF;stroke-width:1.0;" width="10" x="134" y="129.8419"/><rect fill="none" height="284.3541" style="stroke:#61AFEF;stroke-width:1.0;" width="10" x="309" y="106.1358"/><rect fill="none" height="31.706" style="stroke:#61AFEF;stroke-width:1.0;" width="10" x="314" y="206.2539"/><rect fill="none" height="31.706" style="stroke:#61AFEF;stroke-width:1.0;" width="10" x="314" y="349.784"/><line style="stroke:#61AFEF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="96.1358" y2="399.49"/><line style="stroke:#61AFEF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="139" x2="139" y1="96.1358" y2="399.49"/><line style="stroke:#61AFEF;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="314" x2="314" y1="96.1358" y2="399.49"/><rect fill="#424856" height="33.0679" rx="2.5" ry="2.5" style="stroke:#61AFEF;stroke-width:0.5;" width="62" x="5" y="62.0679"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="14" lengthAdjust="spacing" textLength="48" x="12" y="84.0339">System</text><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="14" lengthAdjust="spacing" textLength="58" x="107" y="92.0339">Program</text><ellipse cx="139" cy="61.0679" fill="#424856" rx="12" ry="12" style="stroke:#61AFEF;stroke-width:0.5;"/><polygon fill="#61AFEF" points="135,49.0679,141,44.0679,139,49.0679,141,54.0679,135,49.0679" style="stroke:#61AFEF;stroke-width:1.0;"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="14" lengthAdjust="spacing" textLength="72" x="275" y="92.0339">Wireguard</text><path d="M293.5,49.0679 L293.5,73.0679 M293.5,61.0679 L310.5,61.0679 " fill="none" style="stroke:#61AFEF;stroke-width:0.5;"/><ellipse cx="322.5" cy="61.0679" fill="#424856" rx="12" ry="12" style="stroke:#61AFEF;stroke-width:0.5;"/><rect fill="none" height="284.3541" style="stroke:#61AFEF;stroke-width:1.0;" width="10" x="31" y="106.1358"/><rect fill="none" height="251.6481" style="stroke:#61AFEF;stroke-width:1.0;" width="10" x="134" y="129.8419"/><rect fill="none" height="284.3541" style="stroke:#61AFEF;stroke-width:1.0;" width="10" x="309" y="106.1358"/><rect fill="none" height="31.706" style="stroke:#61AFEF;stroke-width:1.0;" width="10" x="314" y="206.2539"/><rect fill="none" height="31.706" style="stroke:#61AFEF;stroke-width:1.0;" width="10" x="314" y="349.784"/><line style="stroke:#61AFEF;stroke-width:1.0;" x1="132" x2="122" y1="129.8419" y2="125.8419"/><line style="stroke:#61AFEF;stroke-width:1.0;" x1="132" x2="122" y1="129.8419" y2="133.8419"/><line style="stroke:#61AFEF;stroke-width:1.0;" x1="41" x2="133" y1="129.8419" y2="129.8419"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="48" y="124.0328">1</text><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" lengthAdjust="spacing" textLength="63" x="59" y="124.0328">Add Route</text><line style="stroke:#61AFEF;stroke-width:1.0;" x1="144" x2="186" y1="161.5479" y2="161.5479"/><line style="stroke:#61AFEF;stroke-width:1.0;" x1="186" x2="186" y1="161.5479" y2="174.5479"/><line style="stroke:#61AFEF;stroke-width:1.0;" x1="145" x2="186" y1="174.5479" y2="174.5479"/><polygon fill="#61AFEF" points="155,170.5479,145,174.5479,155,178.5479,151,174.5479" style="stroke:#61AFEF;stroke-width:1.0;"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="151" y="155.7389">2</text><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" lengthAdjust="spacing" textLength="69" x="162" y="155.7389">Filter Route</text><polygon fill="#61AFEF" points="302,202.2539,312,206.2539,302,210.2539,306,206.2539" style="stroke:#61AFEF;stroke-width:1.0;"/><line style="stroke:#61AFEF;stroke-width:1.0;" x1="144" x2="308" y1="206.2539" y2="206.2539"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="151" y="200.4449">3</text><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" lengthAdjust="spacing" textLength="102" x="162" y="200.4449">Get current State</text><polygon fill="#61AFEF" points="155,233.9599,145,237.9599,155,241.9599,151,237.9599" style="stroke:#61AFEF;stroke-width:1.0;"/><line style="stroke:#61AFEF;stroke-width:1.0;" x1="149" x2="308" y1="237.9599" y2="237.9599"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="161" y="232.1509">4</text><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" lengthAdjust="spacing" textLength="31" x="172" y="232.1509">State</text><line style="stroke:#61AFEF;stroke-width:1.0;" x1="144" x2="186" y1="287.3719" y2="287.3719"/><line style="stroke:#61AFEF;stroke-width:1.0;" x1="186" x2="186" y1="287.3719" y2="300.3719"/><line style="stroke:#61AFEF;stroke-width:1.0;" x1="145" x2="186" y1="300.3719" y2="300.3719"/><polygon fill="#61AFEF" points="155,296.3719,145,300.3719,155,304.3719,151,300.3719" style="stroke:#61AFEF;stroke-width:1.0;"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="151" y="272.7099">5</text><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" lengthAdjust="spacing" textLength="140" x="162" y="263.8569">Find Peer with Gateway</text><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" lengthAdjust="spacing" textLength="97" x="162" y="281.5629">from AllowedIPs</text><polygon fill="#61AFEF" points="302,345.784,312,349.784,302,353.784,306,349.784" style="stroke:#61AFEF;stroke-width:1.0;"/><line style="stroke:#61AFEF;stroke-width:1.0;" x1="144" x2="308" y1="349.784" y2="349.784"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="151" y="335.122">6</text><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" lengthAdjust="spacing" textLength="89" x="162" y="326.2689">Add Dst-Net to</text><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" lengthAdjust="spacing" textLength="127" x="162" y="343.975">AllowedIPs from Peer</text><polygon fill="#61AFEF" points="150,377.49,140,381.49,150,385.49,146,381.49" style="stroke:#61AFEF;stroke-width:1.0;"/><line style="stroke:#61AFEF;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="144" x2="308" y1="381.49" y2="381.49"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="156" y="375.681">7</text><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="13" lengthAdjust="spacing" textLength="3" x="167" y="375.681"> </text><rect fill="#282C34" height="13.62" id="_title" style="stroke:none;stroke-width:1.0;" width="132" x="112.5" y="390.49"/><text fill="#ABB2BF" font-family="-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;" font-size="10" lengthAdjust="spacing" textLength="132" x="112.5" y="401.18">RoutingTableToWg | Ruakij</text><!--MD5=[b7472deb19054b35618c71d621518677]
@startuml

!$color_bg           = "#282c34"
!$color_bg_light     = "#424856"

!$color_fg           = "#abb2bf"

!$color_red          = "#e06c75"
!$color_green        = "#98c379"
!$color_yellow       = "#e5c07b"
!$color_blue         = "#61afef"
!$color_purple       = "#c678dd"
!$color_teal         = "#56b6c2"

skinparam backgroundColor $color_bg

skinparam {
  ActivityBackgroundColor        $color_bg_light
  ActivityBarColor               $color_fg
  ActivityBorderColor            $color_blue
  ActivityDiamondBackgroundColor $color_bg_light
  ActivityDiamondBorderColor     $color_blue
  ActivityEndColor               $color_red
  ActivityStartColor             $color_green

  ActorBackgroundColor        $color_bg_light
  ActorBorderColor            $color_blue
  ActorStereotypeFontColor    $color_fg

  AgentBackgroundColor       $color_bg_light
  AgentBorderColor           $color_fg


  ArrowColor $color_blue

  ArtifactBackgroundColor     $color_bg_light
  ArtifactBorderColor         $color_fg

  BackgroundColor $color_bg


  BoundaryBackgroundColor     $color_bg_light
  BoundaryBorderColor         $color_blue
  BoundaryStereotypeFontColor $color_fg


  CaptionFontColor $color_fg

  CardBackgroundColor     $color_bg_light
  CardBorderColor         $color_fg

  CircledCharacterFontColor $color_bg


  ClassBackgroundColor   $color_bg_light
  ClassBorderColor       $color_fg



  CloudBorderColor     $color_fg

  CollectionsBackgroundColor $color_bg_light
  CollectionsBorderColor     $color_blue


  ComponentBackgroundColor       $color_bg_light
  ComponentBorderColor           $color_blue



  ControlBackgroundColor $color_bg_light
  ControlBorderColor     $color_blue
  ControlFontColor       $color_fg
  ControlStereotypeFontColor $color_fg

  DatabaseBorderColor           $color_fg

  DefaultFontColor $color_fg
  DefaultFontName -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"








  EntityBackgroundColor $color_bg_light
  EntityBorderColor     $color_blue


  FileBackgroundColor $color_bg_light
  FileBorderColor     $color_fg



  FolderBorderColor       $color_fg


  FrameBorderColor           $color_fg


  InterfaceBackgroundColor       $color_bg_light
  InterfaceBorderColor           $color_blue

  LegendBackgroundColor   $color_bg_light
  LegendBorderColor       $color_fg


  NodeBorderColor           $color_fg


  NoteBackgroundColor   $color_yellow
  NoteBorderColor       $color_bg
  NoteFontColor         $color_bg

  ObjectBackgroundColor       $color_bg_light
  ObjectBorderColor           $color_blue

  PackageBorderColor           $color_fg


  ParticipantBackgroundColor $color_bg_light
  ParticipantBorderColor     $color_blue

  PartitionBackgroundColor transparent
  PartitionBorderColor     $color_fg


  QueueBackgroundColor       $color_bg_light
  QueueBorderColor           $color_blue


  RectangleBorderColor           $color_fg




  SequenceBoxBackgroundColor $color_bg_light
  SequenceBoxBorderColor     $color_blue


  SequenceDividerBackgroundColor   $color_bg_light
  SequenceDividerBorderColor       $color_fg

  SequenceGroupBackgroundColor       $color_bg_light
  SequenceGroupBorderColor           $color_fg

  SequenceLifeLineBackgroundColor   transparent
  SequenceLifeLineBorderColor       $color_blue

  SequenceNewpageSeparatorColor  $color_fg


  SequenceReferenceBackgroundColor        transparent
  SequenceReferenceBorderColor            $color_fg
  SequenceReferenceHeaderBackgroundColor $color_bg_light


  Shadowing false

  StackBackgroundColor       $color_bg_light
  StackBorderColor           $color_blue


  StateBackgroundColor    $color_bg_light
  StateBorderColor        $color_blue
  StateEndColor           $color_red
  StateStartColor         $color_green

  StereotypeABackgroundColor   $color_blue
  StereotypeABorderColor       $color_blue
  StereotypeCBackgroundColor   $color_green
  StereotypeCBorderColor       $color_green
  StereotypeEBackgroundColor   $color_yellow
  StereotypeEBorderColor       $color_yellow
  StereotypeIBackgroundColor   $color_purple
  StereotypeIBorderColor       $color_purple

  StorageBackgroundColor $color_bg_light
  StorageBorderColor     $color_fg


  SwimlaneBorderColor            $color_fg


  UsecaseBackgroundColor       $color_bg_light
  UsecaseBorderColor           $color_blue

}
autonumber
hide footbox

footer "RoutingTableToWg | Ruakij"

title "Add Route"

participant System
control Program
boundary Wireguard

System ++
Wireguard ++
System ->> Program ++ : Add Route
Program -> Program : Filter Route

Program -> Wireguard ++ : Get current State
Wireguard -> Program - - : State

Program -> Program : Find Peer with Gateway\nfrom AllowedIPs

Program -> Wireguard ++ : Add Dst-Net to\nAllowedIPs from Peer
Wireguard - -> Program - -

Program - -

@enduml

@startuml




skinparam backgroundColor #282c34

skinparam {
  ActivityBackgroundColor        #424856
  ActivityBarColor               #abb2bf
  ActivityBorderColor            #61afef
  ActivityDiamondBackgroundColor #424856
  ActivityDiamondBorderColor     #61afef
  ActivityEndColor               #e06c75
  ActivityStartColor             #98c379

  ActorBackgroundColor        #424856
  ActorBorderColor            #61afef
  ActorStereotypeFontColor    #abb2bf

  AgentBackgroundColor       #424856
  AgentBorderColor           #abb2bf


  ArrowColor #61afef

  ArtifactBackgroundColor     #424856
  ArtifactBorderColor         #abb2bf

  BackgroundColor #282c34


  BoundaryBackgroundColor     #424856
  BoundaryBorderColor         #61afef
  BoundaryStereotypeFontColor #abb2bf


  CaptionFontColor #abb2bf

  CardBackgroundColor     #424856
  CardBorderColor         #abb2bf

  CircledCharacterFontColor #282c34


  ClassBackgroundColor   #424856
  ClassBorderColor       #abb2bf



  CloudBorderColor     #abb2bf

  CollectionsBackgroundColor #424856
  CollectionsBorderColor     #61afef


  ComponentBackgroundColor       #424856
  ComponentBorderColor           #61afef



  ControlBackgroundColor #424856
  ControlBorderColor     #61afef
  ControlFontColor       #abb2bf
  ControlStereotypeFontColor #abb2bf

  DatabaseBorderColor           #abb2bf

  DefaultFontColor #abb2bf
  DefaultFontName -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"








  EntityBackgroundColor #424856
  EntityBorderColor     #61afef


  FileBackgroundColor #424856
  FileBorderColor     #abb2bf



  FolderBorderColor       #abb2bf


  FrameBorderColor           #abb2bf


  InterfaceBackgroundColor       #424856
  InterfaceBorderColor           #61afef

  LegendBackgroundColor   #424856
  LegendBorderColor       #abb2bf


  NodeBorderColor           #abb2bf


  NoteBackgroundColor   #e5c07b
  NoteBorderColor       #282c34
  NoteFontColor         #282c34

  ObjectBackgroundColor       #424856
  ObjectBorderColor           #61afef

  PackageBorderColor           #abb2bf


  ParticipantBackgroundColor #424856
  ParticipantBorderColor     #61afef

  PartitionBackgroundColor transparent
  PartitionBorderColor     #abb2bf


  QueueBackgroundColor       #424856
  QueueBorderColor           #61afef


  RectangleBorderColor           #abb2bf




  SequenceBoxBackgroundColor #424856
  SequenceBoxBorderColor     #61afef


  SequenceDividerBackgroundColor   #424856
  SequenceDividerBorderColor       #abb2bf

  SequenceGroupBackgroundColor       #424856
  SequenceGroupBorderColor           #abb2bf

  SequenceLifeLineBackgroundColor   transparent
  SequenceLifeLineBorderColor       #61afef

  SequenceNewpageSeparatorColor  #abb2bf


  SequenceReferenceBackgroundColor        transparent
  SequenceReferenceBorderColor            #abb2bf
  SequenceReferenceHeaderBackgroundColor #424856


  Shadowing false

  StackBackgroundColor       #424856
  StackBorderColor           #61afef


  StateBackgroundColor    #424856
  StateBorderColor        #61afef
  StateEndColor           #e06c75
  StateStartColor         #98c379

  StereotypeABackgroundColor   #61afef
  StereotypeABorderColor       #61afef
  StereotypeCBackgroundColor   #98c379
  StereotypeCBorderColor       #98c379
  StereotypeEBackgroundColor   #e5c07b
  StereotypeEBorderColor       #e5c07b
  StereotypeIBackgroundColor   #c678dd
  StereotypeIBorderColor       #c678dd

  StorageBackgroundColor #424856
  StorageBorderColor     #abb2bf


  SwimlaneBorderColor            #abb2bf


  UsecaseBackgroundColor       #424856
  UsecaseBorderColor           #61afef

}
autonumber
hide footbox

footer "RoutingTableToWg | Ruakij"

title "Add Route"

participant System
control Program
boundary Wireguard

System ++
Wireguard ++
System ->> Program ++ : Add Route
Program -> Program : Filter Route

Program -> Wireguard ++ : Get current State
Wireguard -> Program - - : State

Program -> Program : Find Peer with Gateway\nfrom AllowedIPs

Program -> Wireguard ++ : Add Dst-Net to\nAllowedIPs from Peer
Wireguard - -> Program - -

Program - -

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>